<section>
    <div class="section-header">
        <h4>Update Password</h4>
        <hr />
    </div>
    <div class="section-body">
        <alert></alert>
        <form [formGroup]="form" (ngSubmit)="changePassword()">
            <div class="form-group">
                <label for="oldPassword">Old Password</label>
                <input type="password" formControlName="oldPassword" id="oldPassword" name="oldPassword" class="form-control" [ngClass]="{ 'is-invalid': isSubmitted && f.oldPassword.errors }" />
                <div *ngIf="isSubmitted && f.oldPassword.errors" class="invalid-feedback">
                    <div *ngIf="f.oldPassword.errors.required">
                        Old Password is required
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="newPassword">New Password</label>
                <input type="password" formControlName="newPassword" id="newPassword" name="newPassword" class="form-control" [ngClass]="{ 'is-invalid': isSubmitted && f.newPassword.errors }" />
                <div *ngIf="isSubmitted && f.newPassword.errors" class="invalid-feedback">
                    <div *ngIf="f.newPassword.errors.required">
                        New Password is required
                    </div>
                    <div *ngIf="f.newPassword.errors.minlength">
                        New Password must be atleast 6 characters
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" formControlName="confirmPassword" id="confirmPassword" name="confirmPassword" class="form-control" [ngClass]="{ 'is-invalid': isSubmitted && f.confirmPassword.errors }" />
                <div *ngIf="isSubmitted && f.confirmPassword.errors" class="invalid-feedback">
                    <div *ngIf="f.confirmPassword.errors.required">
                        Confirm Password is required
                    </div>
                    <div *ngIf="f.confirmPassword.errors.notEquivalent">
                        Passwrod and Confirm Password is not equivalent
                    </div>
                </div>
            </div>

            <button type="submit" [disabled]="loading" class="btn btn-lg btn-primary mb-3">
        <span
          *ngIf="loading"
          class="spinner-border spinner-border-sm mr-1"
        ></span>
        Save
      </button>
        </form>
    </div>
</section>